<div class="wrapper-chat">
  <div class="header">
    <button class="btn-close" (click)="search()">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        width="16"
        height="16"
        fill="white"
        class="bi bi-search"
        viewBox="0 0 16 16"
      >
        <path
          d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"
        />
      </svg>
    </button>
  </div>
  <div class="messages" id="message-container">
    <ng-container *ngFor="let message of messages; let i=index">
      <div
        class="wrapper-message"
        [ngClass]="
          message?.nickname === currentUser
            ? 'wrapper-message-input'
            : 'wrapper-message-agent'
        "
      >
        <div class="message">
          <div class="avatar">
            <img
              class="img-circle avatar"
              alt="chat avatar"
              src="{{ message?.image }}"
            />
          </div>
          <div class="box">
            <div class="wrapper-up">
              <span class="user"
                >{{ message?.name }} {{ message?.surname }}</span
              >
              <span class="time">{{
                message?.date | date: "M/d/yyyy h:mm"
              }}</span>
            </div>
            <div class="message-text-wrapper">
              <div class="message-text">
               <app-read-more [text]="message?.message || ''"
               [maxHeight]="75"></app-read-more>
              </div>
            </div>
          </div>
        </div>
      </div>
    </ng-container>
  </div>

  <div class="chat-messages-create-container">
    <form [formGroup]="chatForm" (ngSubmit)="send()" novalidate>
      <div class="form-group">
          <label class="visually-hidden-focusable" for="message">Chat</label>
          <input autocomplete="off" type="text" class="form-control input-box" id="message" placeholder="Enter note about the precess" formControlName="message">
      </div>
      <div class="text-end">
          <button type="submit" class="btn btn-primary btn-box">Publish</button>
      </div>
  </form>
  </div>
</div>
